{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{makeStyles,TextField,Grid}from\"@material-ui/core\";import{Formik,Form,FastField,FieldArray}from\"formik\";import{isArray}from\"lodash\";import NumberFormat from\"react-number-format\";import ButtonWithSpinner from\"../ButtonWithSpinner\";import{i18n}from\"../../translate/i18n\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({root:{width:\"100%\"},fullWidth:{width:\"100%\"},textfield:{width:\"100%\",fontSize:\"0.875em\"},row:{paddingTop:theme.spacing(2),paddingBottom:theme.spacing(2)},control:{paddingRight:theme.spacing(1),paddingLeft:theme.spacing(1)},buttonContainer:{textAlign:\"right\",padding:theme.spacing(1)}}));function SchedulesForm(props){const{initialValues,onSubmit,loading,labelSaveButton}=props;const classes=useStyles();const[schedules,setSchedules]=useState([{weekday:i18n.t(\"queueModal.serviceHours.monday\"),weekdayEn:\"monday\",startTimeA:\"\",endTimeA:\"\",startTimeB:\"\",endTimeB:\"\"},{weekday:i18n.t(\"queueModal.serviceHours.tuesday\"),weekdayEn:\"tuesday\",startTimeA:\"\",endTimeA:\"\",startTimeB:\"\",endTimeB:\"\"},{weekday:i18n.t(\"queueModal.serviceHours.wednesday\"),weekdayEn:\"wednesday\",startTimeA:\"\",endTimeA:\"\",startTimeB:\"\",endTimeB:\"\"},{weekday:i18n.t(\"queueModal.serviceHours.thursday\"),weekdayEn:\"thursday\",startTimeA:\"\",endTimeA:\"\",startTimeB:\"\",endTimeB:\"\"},{weekday:i18n.t(\"queueModal.serviceHours.friday\"),weekdayEn:\"friday\",startTimeA:\"\",endTimeA:\"\",startTimeB:\"\",endTimeB:\"\"},{weekday:i18n.t(\"queueModal.serviceHours.saturday\"),weekdayEn:\"saturday\",startTimeA:\"\",endTimeA:\"\",startTimeB:\"\",endTimeB:\"\"},{weekday:i18n.t(\"queueModal.serviceHours.sunday\"),weekdayEn:\"sunday\",startTimeA:\"\",endTimeA:\"\",startTimeB:\"\",endTimeB:\"\"}]);useEffect(()=>{if(isArray(initialValues)&&initialValues.length>0){setSchedules(initialValues);}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[initialValues]);const handleSubmit=data=>{onSubmit(data);};return/*#__PURE__*/_jsx(Formik,{enableReinitialize:true,className:classes.fullWidth,initialValues:{schedules},onSubmit:_ref=>{let{schedules}=_ref;return setTimeout(()=>{handleSubmit(schedules);},500);},children:_ref2=>{let{values}=_ref2;return/*#__PURE__*/_jsxs(Form,{className:classes.fullWidth,children:[/*#__PURE__*/_jsx(FieldArray,{name:\"schedules\",render:arrayHelpers=>/*#__PURE__*/_jsx(Grid,{spacing:4,container:true,children:values.schedules.map((item,index)=>{return/*#__PURE__*/_jsx(Grid,{xs:12,md:4,item:true,children:/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{className:classes.control,xs:12,item:true,children:/*#__PURE__*/_jsx(FastField,{as:TextField,abel:i18n.t(\"queueModal.serviceHours.dayWeek\"),name:`schedules[${index}].weekday`,disabled:true,variant:\"outlined\",className:classes.fullWidth,margin:\"dense\"})}),/*#__PURE__*/_jsx(Grid,{className:classes.control,xs:12,md:6,item:true,children:/*#__PURE__*/_jsx(FastField,{label:i18n.t(\"queueModal.serviceHours.startTimeA\"),name:`schedules[${index}].startTimeA`,children:_ref3=>{let{field}=_ref3;return/*#__PURE__*/_jsx(NumberFormat,{...field,variant:\"outlined\",margin:\"dense\",customInput:TextField,format:\"##:##\",className:classes.fullWidth,label:i18n.t(\"queueModal.serviceHours.startTimeA\")});}})}),/*#__PURE__*/_jsx(Grid,{className:classes.control,xs:12,md:6,item:true,children:/*#__PURE__*/_jsx(FastField,{label:i18n.t(\"queueModal.serviceHours.endTimeA\"),name:`schedules[${index}].endTimeA`,children:_ref4=>{let{field}=_ref4;return/*#__PURE__*/_jsx(NumberFormat,{...field,variant:\"outlined\",margin:\"dense\",customInput:TextField,format:\"##:##\",className:classes.fullWidth,label:i18n.t(\"queueModal.serviceHours.endTimeA\")});}})}),/*#__PURE__*/_jsx(Grid,{className:classes.control,xs:12,md:6,item:true,children:/*#__PURE__*/_jsx(FastField,{label:i18n.t(\"queueModal.serviceHours.startTimeB\"),name:`schedules[${index}].startTimeB`,children:_ref5=>{let{field}=_ref5;return/*#__PURE__*/_jsx(NumberFormat,{...field,variant:\"outlined\",margin:\"dense\",customInput:TextField,format:\"##:##\",className:classes.fullWidth,label:i18n.t(\"queueModal.serviceHours.startTimeB\")});}})}),/*#__PURE__*/_jsx(Grid,{className:classes.control,xs:12,md:6,item:true,children:/*#__PURE__*/_jsx(FastField,{label:i18n.t(\"queueModal.serviceHours.endTimeB\"),name:`schedules[${index}].endTimeB`,children:_ref6=>{let{field}=_ref6;return/*#__PURE__*/_jsx(NumberFormat,{...field,variant:\"outlined\",margin:\"dense\",customInput:TextField,format:\"##:##\",className:classes.fullWidth,label:i18n.t(\"queueModal.serviceHours.endTimeB\")});}})})]})},index);})})}),/*#__PURE__*/_jsx(\"div\",{className:classes.buttonContainer,children:/*#__PURE__*/_jsx(ButtonWithSpinner,{loading:loading,type:\"submit\",color:\"primary\",variant:\"contained\",children:labelSaveButton!==null&&labelSaveButton!==void 0?labelSaveButton:i18n.t(\"whatsappModal.buttons.okEdit\")})})]});}});}export default SchedulesForm;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}