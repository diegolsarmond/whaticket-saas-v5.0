{"ast":null,"code":"import React from'react';import{IconButton,Tooltip}from\"@material-ui/core\";import{Can}from\"../../Can\";import{Trash}from\"react-feather\";import{i18n}from\"../../../translate/i18n\";import ConfirmationModal from\"../../ConfirmationModal\";import{useState}from\"react\";import api from\"../../../services/api\";import toastError from'../../../errors/toastError';import{toast}from\"react-toastify\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function DeleteButton(_ref){let{userProfile,ticket,setTickets}=_ref;const[confirmationOpen,setConfirmationOpen]=useState(false);const handleOpenConfirmationModal=e=>{setConfirmationOpen(true);// handleClose();\n};const handleDeleteTicket=async()=>{try{await api.delete(`/tickets/${ticket.id}`);setTickets(prevTickets=>prevTickets.filter(item=>item.id!==ticket.id));toast.success(\"Ticket excluÃ­do com sucesso\");}catch(err){toastError(err);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Can,{role:userProfile,perform:\"ticket-options:deleteTicket\",yes:()=>/*#__PURE__*/_jsx(Tooltip,{title:\"Excluir atendimento\",children:/*#__PURE__*/_jsx(IconButton,{disableRipple:true,edge:\"end\",size:\"small\",onClick:handleOpenConfirmationModal,children:/*#__PURE__*/_jsx(Trash,{size:16,color:\"#4d4d4d\"})})})}),/*#__PURE__*/_jsx(ConfirmationModal,{title:`${i18n.t(\"ticketOptionsMenu.confirmationModal.title\")}${ticket.id} ${i18n.t(\"ticketOptionsMenu.confirmationModal.titleFrom\")} ${ticket.contact.name}?`,open:confirmationOpen,onClose:setConfirmationOpen,onConfirm:handleDeleteTicket,children:i18n.t(\"ticketOptionsMenu.confirmationModal.message\")})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}